看到你的 App 界面（M Recording）已经初具规模，功能逻辑也非常清晰！

为了实现你提到的**“本地媒体库管理”**功能，你需要让编程 AI 引入**本地数据库（Room DB）**来记录文件的处理状态，并使用 **MediaStore API** 来读取手机文件。

你可以直接将以下 Prompt 发送给编程 AI：

---

### 📝 给编程 AI 的开发 Prompt

**任务：为“M Recording” App 增加一个“媒体库管理”页面**

**1. 基础架构要求：**
- **数据持久化**：使用 Android **Room Database** 建立一个 `FileRecord` 表。字段需包含：文件路径(Primary Key)、文件名、类型(音/视频)、时长、添加时间、**处理状态(isProcessed)**、**隐藏状态(isHidden)**、转录文本、总结内容。
- **文件读取**：使用系统 **MediaStore API** 自动扫描手机中的音频和视频文件，并将新文件同步到 Room 数据库中。

**2. 页面 UI 设计 (新页面：媒体库)：**
- **列表展示**：使用 `RecyclerView` 或 `LazyColumn` 展示文件列表。显示文件名、时长、大小和日期。
- **视觉标识**：对于已经转录过的文件，在列表项侧边显示一个“已完成”的小图标或标签。
- **排序功能**：顶部提供排序按钮，支持按“时间”、“名称”、“大小”进行升序/降序排列。
- **多选模式**：
    - 长按列表项进入“多选模式”。
    - 多选后，底部弹出操作栏，包含 **“隐藏”** 按钮。点击隐藏后，将数据库中的 `isHidden` 字段设为 true，且该文件不再在主列表中显示（需在设置或侧边栏提供查看隐藏文件的入口）。

**3. 单点击交互逻辑（弹窗）：**
点击列表中的任意文件，弹出一个 `BottomSheet` 或 `Dialog`：
- **场景 A：文件未处理 (isProcessed = false)**
    - 显示 **“开始处理”** 按钮。点击后跳转回主页（或直接在后台开始），将文件路径自动填充到输入框，触发你现有的“开始处理”逻辑。
- **场景 B：文件已处理 (isProcessed = true)**
    - 显示 **“查看结果”** 按钮。点击后进入一个详情页，直接展示之前保存的“转录原文”和“AI总结”。
    - 同时保留 **“重新识别”** 选项，以防用户想更换 Prompt 重新生成。

**4. 核心逻辑补全：**
- 请实现一个 `FileManager` 类，负责：
    - 扫描文件并去重。
    - 处理“隐藏”逻辑（在 SQL 查询时过滤 `where isHidden = 0`）。
    - 处理“识别”与“查看”的状态判断。

**5. 代码输出要求：**
- 请给出 `FileRecord` 实体类定义。
- 请给出媒体库页面的布局代码和 Activity/ViewModel 核心逻辑。
- 请确保与我现有的 ASR（SiliconFlow）和 AI 总结逻辑无缝衔接。

---

### 💡 给你的额外建议（避坑指南）：

1.  **文件权限**：在 Android 13 及以上版本，读取音视频需要申请 `READ_MEDIA_AUDIO` 和 `READ_MEDIA_VIDEO` 权限，不要只申请旧的 `READ_EXTERNAL_STORAGE`。
2.  **隐藏逻辑**：你的需求是“隐藏（不删除）”。建议在 App 内做一个“隐藏文件夹”或者“回收站”的概念，否则一旦误操作隐藏，用户就再也找不到了。
3.  **状态同步**：当主页的任务“处理完成”（100%）时，一定要记得更新 Room 数据库，把 `isProcessed` 设为 `true`，并存入 `text` 和 `summary`，这样媒体库才能实时更新状态。
4.  **性能优化**：如果手机里音视频特别多，读取 MediaStore 时一定要用**异步线程**（如协程），否则界面会卡死。

这个功能加上去后，你的 App 就会从一个“单纯的工具”进化为一个“学习资料管理系统”了！加油！